{% extends 'backend_brokers/base.html' %}
{% load static i18n %}

{% block title %}{% trans "Twoje portfele" %}{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="mb-3">{% trans "Twoje portfele" %}</h2>
    <div>
        <a class="btn btn-success mb-3" href="{% url 'add_wallet' %}">
            {% trans "Dodaj portfel" %}
        </a>
        <a class="btn btn-success mb-3" href="{% url 'deposit' %}">
            {% trans "Zasil konto" %}
        </a>
    </div>

    <ul class="list-group mb-4">
        {% for wallet in wallets %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="{% url 'wallet_transactions' wallet.id %}">
                    {{ wallet.balance|floatformat:2 }} {{ wallet.currency }}
                </a>
            </li>
        {% empty %}
            <li class="list-group-item">{% trans "Brak portfeli" %}</li>
        {% endfor %}
    </ul>

    <div class="wallet-creation text-muted small">
        <p>
            {% blocktrans with account_type=request.user.profile.get_account_type_display wallet_limit=request.user.profile.wallet_limit wallets_remaining=wallets_remaining %}
                Dla konta typu {{ account_type }} możesz założyć {{ wallet_limit }} portfeli.
                (Pozostało {{ wallets_remaining }} do osiągnięcia limitu).
            {% endblocktrans %}
        </p>

        <p>
            {% blocktrans with account_type=request.user.profile.get_account_type_display transaction_limit=request.user.profile.transaction_limit transactions_remaining=transactions_remaining %}
                Dla konta typu {{ account_type }} możesz wykonać {{ transaction_limit }} transakcji z promocyjnym spreadem w miesiącu kalendarzowym.
                (Pozostało {{ transactions_remaining }} do osiągnięcia limitu).
            {% endblocktrans %}
        </p>
    </div>
</div>
{% endblock %}



<!-- <!doctype html>
<html lang="pl">
<head>
    <meta charset="utf-8">
    <title>Lista portfeli</title></head>
<body>

 {% if user.is_authenticated and user.profile %}
 <div align="right">
    <a href="{% url 'exchange_rates' %}">Kursy walut</a> |
    <a href="{% url 'wallets' %}">Twoje Portfele</a> |
    <a href="{% url 'profile' %}">Twój profil</a> |
    <form action="{% url 'logout' %}" method="post" style="display:inline;">
    {% csrf_token %}
    <button type="submit" style="background:none; border:none; color:#00f; cursor:pointer; text-decoration:underline;">
        Wyloguj
    </button>
</div>

  {% endif %}


<h2>Twoje portfele </h2>
<a href="{% url 'add_wallet' %}">Dodaj</a>
<BR><BR><BR>
  <ul>
    {% for wallet in wallets %}
    <li>
        <a href="{% url 'wallet_transactions' wallet.id %}"> {{ wallet.balance|floatformat:2 }} {{ wallet.currency }}</a>

    </li>
    {% empty %}
    <li>Brak portfeli</li>
    {% endfor %}
</ul>


</p>
<BR><BR><BR>
<div class="wallet creation"; style="color: gray; font-size: small">
<p> Dla konta typu {{ request.user.profile.get_account_type_display }} możesz założyć {{ request.user.profile.wallet_limit }} portfeli. (Pozostało {{ wallets_remaining }} do osiągnięcia limitu).</p>
<p> Dla konta typu {{ request.user.profile.get_account_type_display }} możesz wykonać {{ request.user.profile.transaction_limit }} transakcji z promocyjnym spreadem w miesiącu kalendarzowym. (Pozostało {{ transactions_remaining }} do osiągnięcia limitu).</p>
</div>
</body>
</html> -->
